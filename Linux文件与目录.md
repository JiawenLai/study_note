#### 一、Linux文件权限

##### 1. Linux文件属性

![image-20221008202431406](/Users/berry/Library/Application Support/typora-user-images/image-20221008202431406.png)

1.1 第一部分为文件的类型与权限：

- 第一个字符为文件类型：[d]表示目录、[-]表示文件、[l]表示链接文件、[b]表示设备文件里面的可供存储的周边设备、[c]表示设备文件里的序列埠设备；
- 后面的字符三个为一组，第一组为文件拥有者可具备的权限，第二组为加入此群组的账号的权限，第三组为非本人且没有加入本群组的其他账号的权限，每一组的第一个字符表示是否可读[r]，每一组的第二个字符表示是否可写[w]，每一组的第三个字符表示是否可执行[x]；

1.2 第二部分表示有多少文件名链接到此节点；

1.3 第三部分表示这个文件或目录的拥有者账号；

1.4 第四部分表示这个文件的所属群组；

1.5 第五部分表示这个文件的容量大小，单位为Bytes；

1.6 第六部分为这个文件的创建日期或最近的修改日期，如果未变动时间太久则只显示年份；

1.7 第七部分为这个文件的文件名，文件名前有一个[.]为隐藏文件；

##### 2. 修改文件属性与权限

2.1 改变所属劝阻，chgrp

```bash
chgrp user1 test.txt #第二个字段为群组名，需在etc/group文件中，最后一个字段为文件名
```

2.2 改变文件拥有者，chown

```bash
chown user1 test.txt #第二个字段为用户名，需在etc/passwd文件中，最后一个字段为文件名
```

```bash
chown user1:user1 text.txt #同时改变群组
chown user1.user1 text.txt
```

```bash
chown .user1 text.txt #只改群组
chown :user1 text.txt
```

-R：进行递回的持续变更，亦即连同次目录下的所有文件都变更。

2.3 改变权限，chmod

- 数字类型改变文件权限，r对应为4，w对应为2，x对应为1

```bash
chmod 777 test.txt #第二个字段中的每个数字对应为owner/group/other各自的rwx的累加，后面接文件名
```

- 符号类型改变文件权限，user对u，group对应g，other对应o，a对应all所有身份，可以使用+、-、=来操作权限rwx

```bash
chmod u=rwx,go=rx text.txt #第二个字段设置权限，后接文件名
chmod a+x test.txt
chmod a-x test.txt
```

##### 3. 目录与文件的权限

3.1 文件的权限

- r权限表示可读取该文件的实际内容；
- w权限表示可以编辑、新增或修改该文件的内容；
- x权限表示可以该文件具有可以被执行的权限；

3.2 目录的权限

- r表示具有查询该目录下的文件名数据的权限；
- w表示具有变动该目录结构清单的权限，包括创建、删除、更名、移动；
- x表示使用者能否进入该目录的权限；

##### 4. Linux文件种类与扩展名

4.1 文件种类

- 正规文件（regular file）：用[-]表示，包括纯文本文件（ASCLL）、二进制文件（binary）、数据格式文件（data）；
- 目录（directory）：用[d]表示；
- 链接文件（link）：用[l]表示；
- 设备与设备文件（device）：通常集中在/dev目录下，分为区块（block）设备文件（用[b]表示，随机存取的周边设备，如硬盘）和字符（character）设备文件（用[c]表示，一次性读取的周边设备，如键盘）；
- 数据接口文件（sockets）：用[s]表示，一般在/run和/tmp目录中出现；
- 数据输送档（FIFO，pipe）：用[p]表示，first-in-first-out缩写，用于解决多个程序同时存取一个文件所造成的错误问题；

4.2 文件扩展名

- .sh：脚本或批处理文件（script）；
- Z、.tar、.tar.gz、.zip、.tgz：经过打包的压缩文件；
- .html、.php：网页相关文件；
- linux文件是否可执行只取决于是否拥有x权限，文件扩展名仅用于了解文件的可能用途；

4.3 文件长度限制

- 单一文件或目录的最大容许文件名为255Bytes，以一个ASCLL英文占用一个Bytes来说可有大约255个字符长度，以一个中文占用2Bytes来说可有大约128个中文字符；

4.4 文件名称限制

- 文件名称避免使用*？<>;&![]|'"'(){}\等；

#### 二、Linux目录配置

##### 1. Linux目录配置依据

- Filesystem Hierarchy Standard（FHS）；

##### 2. 目录树

- 目录树起始点为根目录（/，root）；
- 每一个目录不仅能使用本地partion的文件系统，还能使用网络上的filesystem；
- 每一个文件在此目录树中的文件名都是独一无二的；

![image-20221017205053618](/Users/berry/Library/Application Support/typora-user-images/image-20221017205053618.png)

##### 3. 绝对路径与相对路径

- 绝对路径：由根目录开启写起的文件名或目录名称；
- 相对路径：相对于目前路径的文件名写法；
- .代表当前目录，也可用./表示；
- ..代表上一层目录，也可用../表示；

##### 4. CentOS的观察

- 查看核心版本

```bash
uname -r
```

- 查看操作系统的位版本

```bash
uname -m
```

#### 三、Linux目录操作

##### 1. 特殊目录

```
.代表此层目录，..代表上一层目录，-代表前一个工作目录，～代表目前使用者身份所在的主文件夹，～[account]代表account这个使用者的主文件夹。
```

##### 2. 变换目录

- change directory，cd；

##### 3. 显示目前所在目录

- Print Working Directory，pwd；

- 加-P参数显示链接文件的完整路径；

##### 4. 创建新目录

- Make Directory，mkdir；
- -m参数设置文件权限，不加为默认权限；
- -p参数能够递回创建目录；

##### 5. 删除空目录

- Remove Directory，rmdir；
- -p参数能连同上层的空目录一起删除；

##### 6. 可执行文件路径的变量：$PATH

- 不同身份使用者默认的PATH不同，默认能够随意执行的指令也不同；
- PATH这个变量的内容由一堆目录所组成的，每个目录中间用:分隔，每个目录也有顺序之分。

#### 四、Linux文件与目录管理操作

##### 1. 文件与目录的检视

```bash
ls [-aAdfFhilnrRSt] 文件名或目录名称..
```

- -a：显示全部文件包括隐藏文件；
- -A：显示全部文件包括隐藏文件，但不包括.和..这两个目录；
- -d：仅列出目录本身，而不是列出目录内的文件数据；
- -f：直接列出结果，而不进行排序；
- -F：根据文件、目录等信息，给予附加结构数据；
- -h：将文件大小以易读方式显示；
