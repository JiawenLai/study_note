#### 一、vi的使用

##### 1. vi的三种模式

- 一般指令模式（command mode）
- 编辑模式（insert mode）
- 命令行命令模式（command-line mode）

##### 2. 一般指令模式：光标移动

```
h或左方向键：光标向左移动一个字符；
j或下方向键：光标向下移动一个字符；
k或上方向键：光标向上移动一个字符；
l或右方向键：光标向右移动一个字符；
[number][hjkl]：向某方向移动number列；
[Ctrl]+[f]：屏幕向下移动一页；[Page Down]
[Ctrl]+[b]：屏幕向上移动一页；[page Up]
[Ctrl]+[d]：屏幕向下移动半页；
[Ctrl]+[u]：屏幕向上移动半页；
+：光标移动到非空白字符的下一列；
-：光标移动到非空白字符的上一列；
n<space>：光标向右移动n个字符；
0或[Home]：移动到这一列的最前面字符处；
$或[End]：移动到这一列的最后面字符处；
H：光标移动到这个屏幕的最上方那一列的第一个字符；
M：光标移动到这个屏幕的中央那一列的第一个字符；
L：光标移动到这个屏幕的最下方那一列的第一个字符；
G：移动到这个文件的最后一列（常用）；
nG：n为数，移动到这个文件的第n列；
gg：移动到这个文件的第一列，相当于1G；
n<Enter>：n为数字，光标向下移动n列。
```

##### 3. 一般指令模式：搜寻与取代

```
/word：向光标之下寻找一个名称为word的字串；
?word：向光标之上寻找一个字串名称为word的字串；
n：重复前一个搜寻的动作；
N：与n刚好相反，为“反向”进行前一个搜寻动作；
:n1,n2s/word1/word2/g：n1与n2为数字，在第n1与n2列之间寻找 word1这个字串，并将该字串取代为word2；
:1,$s/word1/word2/g：从第一列到最后一列寻找word1字串，并将该字串取代为word2；
:1,$s/word1/word2/gc：从第一列到最后一列寻找word1字串，并将该字串取代为word2，且在取代前显示提示字符给使用者确（confirm）是否需要取代。
```

##### 4. 一般指令模式：删除、复制与贴上

```
x, X：在一列字当中，x为向后删除一个字符 （相当于 [del] ），X为向前删除一个字符（相当于 [backspace] ）；
nx：n为数字，连续向后删除n个字符；
dd：删除光标所在的那一整列；
ndd：n为数字。删除光标所在的向下n列；
d1G：删除光标所在到第一列的所有数据；
dG：删除光标所在到最后一列的所有数据；
d$：删除光标所在处，到该列的最后一个字符；
d0：那个是数字的0，删除光标所在处，到该列的最前面一个字符；
yy：复制光标所在的那一列；
nyy：n为数字。复制光标所在的向下n列；
y1G：复制光标所在列到第一列的所有数据；
yG：复制光标所在列到最后一列的所有数据；
y0：复制光标所在的那个字符到该列行首的所有数据；
y$：复制光标所在的那个字符到该列行尾的所有数据；
p, P：p为将已复制的数据在光标下一列贴上，P 则为贴在光标上一列； 
J：将光标所在列与下一列的数据结合成同一列；
c：重复删除多个数据，例如向下删除 10 列，[10cj]；
u：复原前一个动作；
[Ctrl]+r：重做上一个动作；
.：这就是小数点，意思是重复前一个动作的意思。
```

##### 5. 进入插入或取代的编辑模式

```
i,I：进入插入模式（Insert mode），i为“从目前光标所在处插入”，I为“在目前所在列的第一个非空白字符处开始插入”；
a,A：进入插入模式（Insert mode），a为“从目前光标所在的下一个字符处开始插入”，A为“从光标所在列的最后一个字符处开始插入”；
o,O：进入插入模式（Insert mode），o为“在目前光标所在的下一列处插入新的一列”；O为在目前光标所在处的上一列插入新的一列；
r,R：进入取代模式（Replace mode），r只会取代光标所在的那一个字符一次；R会一直取代光标所在的文字，直到按下ESC为止；
[Esc]	退出编辑模式，回到一般指令模式中；
```

##### 6. 命令行界面的储存、离开等指令

```
:w：将编辑的数据写入硬盘文件中；
:w!：若文件属性为“只读”时，强制写入该文件。不过，到底能不能写入，还是跟你对该文件的文件权限有关；
:q：离开vi；
:q!：若曾修改过文件，又不想储存，使用!为强制离开不储存盘案；
:wq：储存后离开，若为:wq!则为强制储存后离开；
ZZ：若文件没有更动，则不储存离开，若文件已经被更动过，则储存后离开；
:w[filename]：将编辑的数据储存成另一个文件；
:r[filename]：在编辑的数据中，读入另一个文件的数据；
:n1,n2 w [filename]：将n1到n2的内容储存成filename这个文件；
:!command：暂时离开vi到命令行界面下执行 command 的显示结果；
```

##### 7. vim环境的变更

```
:set nu：显示行号，设置之后，会在每一列的字首显示该列的行号；
:set nonu：与set nu相反，为取消行号；
```

#### 二、vim的额外功能

: